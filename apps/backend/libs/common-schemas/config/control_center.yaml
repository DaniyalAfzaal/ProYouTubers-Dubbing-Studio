# main config parameters
TRANSLATION_STRATEGIES:
  - "default"
  - "short"
  - "long_proportional"
  - "long_sophisticated"
  - "long_sophisticated_merging"

DUBBING_STRATEGIES:
  - "default"
  - "translation_over"
  - "full_replacement"
  - "god_tier_draft"
  - "god_tier_hollywood"
 

log_level: INFO
transcript_tolerance: 0.25
vocal_only_for_transcription: true # whether to preprocess audio to keep only vocal parts for transcription or just use raw audio

concatenation:
  alpha: 0.25
  min_dur: 0.4

# NEW: Strict segment timing for correct synchronization
# Ensures dubbed segments play at exact same timestamps as original speech
strict_segment_timing:
  enabled: true  # Enable strict timing (recommended for Chineseâ†’English)
  max_speed_ratio: 1.35  # Maximum speed adjustment (1.35 = 35% compression/expansion)
  # Note: Chinese is typically 20-40% faster than English
  # Set higher for more aggressive compression, lower for better quality

overlay_on_background:
  ducking_db: 0.0

finalize_media:
  ducking_db: 0.02

default_models:
  asr: "whisperx"
  tr: "deep_translator"
  tts: "chatterbox"
  sep: "melband_roformer_big_beta5e.ckpt"


prompt_attachment:
  min_duration: 1.0
  max_duration: 40.0

# VAD Timestamp Correction
# Fixes inaccurate VAD timestamps caused by detecting pre-speech sounds (breaths, noise)
vad:
  timestamp_correction:
    enabled: true                      # Enable automatic offset correction
    auto_detect_silence: true          # Automatic silence detection via energy analysis
    manual_offset_seconds: 0.0         # Manual adjustment in seconds (+ or -)
    silence_threshold_percentile: 10   # Noise floor calculation (10th percentile)
    energy_multiplier: 3.0             # Speech vs silence threshold (3x = balanced)
